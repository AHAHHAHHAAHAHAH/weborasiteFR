/* ==========================================================================
   WEBORA STUDIO - PREMIUM SPATIAL DESIGN SYSTEM
   ========================================================================== */

/* --------------------------------------------------------------------------
   1. ROOT VARIABLES (Il Cuore dell'Eleganza)
   -------------------------------------------------------------------------- */
:root {
  /* I tuoi colori originali intatti (Nessuna forzatura) */
  --radius-sm: 8px;
  --radius: 16px;
  --radius-lg: 24px;
  --radius-full: 999px;
  
  /* Palette Spaziale (Basata sui tuoi accenti) */
  --glass-border: rgba(255, 255, 255, 0.04);
  --glass-border-hover: rgba(255, 255, 255, 0.15);
  --glass-highlight: rgba(255, 255, 255, 0.1);
  --glow-accent: rgba(179, 91, 91, 0.15);
  
  /* Ombre Multidimensionali */
  --shadow-float: 0 20px 40px rgba(0,0,0,0.4);
  --shadow-float-hover: 0 30px 60px rgba(0,0,0,0.6), 0 0 40px rgba(179, 91, 91, 0.12);
  --shadow-inner: inset 0 1px 0 rgba(255,255,255,0.05);
  
  /* Tipografia Matematicamente Scalabile */
  --font-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Inter', 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  --text-xs: clamp(0.75rem, 0.7vw + 0.5rem, 0.85rem);
  --text-sm: clamp(0.875rem, 0.8vw + 0.6rem, 1rem);
  --text-base: clamp(1rem, 3vw, 1.15rem);
  --text-lg: clamp(1.15rem, 4vw, 1.3rem);
  --text-xl: clamp(1.3rem, 4vw, 1.5rem);
  --text-2xl: clamp(1.8rem, 6vw, 3.5rem);
  --text-3xl: clamp(2.4rem, 8vw, 5rem);
  
  /* Spaziature Universali */
  --space-2: 8px;
  --space-4: 16px;
  --space-6: 24px;
  --space-8: 32px;
  --space-12: 48px;
  --space-16: 64px;
  --space-24: 96px;
  
  /* Timing Animations */
  --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-spring: cubic-bezier(0.22, 1, 0.36, 1);
  --ease-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* --------------------------------------------------------------------------
   2. RESET & BASE
   -------------------------------------------------------------------------- */
* { 
  box-sizing: border-box; 
  margin: 0; 
  padding: 0; 
}

/* FIX SCROLL ORIZZONTALE INFINITO E PRESERVAZIONE DEI COLORI */
html, body { 
  max-width: 100%;
  overflow-x: hidden; 
  scroll-behavior: smooth; 
  background-color: var(--bg); /* IL TUO COLORE ORIGINALE */
}

body {
  position: relative;
  background-image: radial-gradient(circle at 50% 0%, rgba(179, 91, 91, 0.08), transparent 70%);
  color: var(--text);
  font-family: var(--font-sans);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  
  /* IL BLOCCO DELLA SELEZIONE (Premium App Feel) */
  -webkit-user-select: none; /* Safari / iOS */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Windows */
  user-select: none; /* Standard */
  
  /* Disabilita anche il menu contestuale su tap prolungato su iOS/Android */
  -webkit-touch-callout: none; 
}

/* ECCEZIONE VITALE: Permettiamo di scrivere e selezionare nei form! */
input, textarea, select, .field {
  -webkit-user-select: auto !important;
  -moz-user-select: auto !important;
  -ms-user-select: auto !important;
  user-select: auto !important;
}

/* CUSTOM SCROLLBAR LUXURY */
::-webkit-scrollbar { 
  width: 8px; 
  height: 8px; /* Per lo scroll orizzontale */
}
::-webkit-scrollbar-track { 
  background: var(--bg); 
}
::-webkit-scrollbar-thumb { 
  background: rgba(255,255,255,0.1); 
  border-radius: 10px; 
  border: 2px solid var(--bg); /* Crea un effetto padding */
}
::-webkit-scrollbar-thumb:hover { 
  background: rgba(255,255,255,0.25); 
}

::selection {
  background: rgba(179, 91, 91, 0.4);
  color: #fff;
}

a { 
  color: inherit; 
  text-decoration: none; 
  transition: color 0.3s ease, text-shadow 0.3s ease; 
}
a:hover { 
  text-decoration: none; 
}

/* --------------------------------------------------------------------------
   3. ATMOSFERA E BACKGROUND (Watermark e Mouse Glow)
   -------------------------------------------------------------------------- */

/* IL WATERMARK ANIMATO (Il logo più visibile e vivo) */
.bg-watermark {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 140vh;
  height: 140vh;
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
  
  /* OPACITÀ AUMENTATA COME RICHIESTO */
  opacity: 0.07; 
  
  z-index: 1; 
  pointer-events: none;
  filter: grayscale(100%) blur(2px);
  
  /* ANIMAZIONE DI RESPIRO LENTA */
  animation: watermarkBreathe 20s var(--ease-out) infinite alternate;
}

@keyframes watermarkBreathe {
  0% { transform: translate(-50%, -50%) scale(0.98); opacity: 0.06; }
  100% { transform: translate(-50%, -50%) scale(1.02); opacity: 0.09; filter: grayscale(100%) blur(3px); }
}

/* GLOW MOUSE (La torcia che segue l'utente) */
.mouse-glow {
  position: fixed;
  width: 600px;
  height: 600px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(179,91,91,0.08) 0%, transparent 70%);
  pointer-events: none;
  z-index: 2;
  top: 0; left: 0;
  transform: translate(-50%, -50%);
  transition: opacity 0.3s ease;
  mix-blend-mode: screen;
}

/* --------------------------------------------------------------------------
   4. LAYOUT & GRIGLIE
   -------------------------------------------------------------------------- */
.section { 
  padding: 100px 0; 
  position: relative; 
  z-index: 10; 
}

.wrap { 
  width: min(1200px, calc(100% - 2 * 24px)); 
  margin: 0 auto; 
}

.grid { 
  display: grid; 
  gap: var(--space-8); 
}
.grid.cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
.grid.cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
.grid.cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); } /* AGGIUNTA COLONNA 4 */

/* === MAGIA: CARD ORIZZONTALI SU MOBILE (Risparmio Spazio Assoluto) === */
@media (max-width: 768px) { 
  .grid.cols-2 { 
    grid-template-columns: 1fr; 
    gap: 20px; 
  } 
  
  /* LE 3 E 4 COLONNE DIVENTANO UNO SLIDER ORIZZONTALE FLUIDO */
  .grid.cols-3, .grid.cols-4 { 
    display: flex; 
    flex-wrap: nowrap; 
    overflow-x: auto; 
    overflow-y: hidden;
    scroll-snap-type: x mandatory; 
    -webkit-overflow-scrolling: touch; /* Scroll fluido iOS */
    padding-bottom: 20px; 
    margin-right: -24px; 
    padding-right: 24px;
    gap: 16px;
    scrollbar-width: none; 
  }
  .grid.cols-3::-webkit-scrollbar, .grid.cols-4::-webkit-scrollbar { 
    display: none; 
  }
  .grid.cols-3 > *, .grid.cols-4 > * {
    flex: 0 0 85%; /* Ogni card occupa l'85% dello schermo su mobile */
    scroll-snap-align: center; 
  }

  .section { padding: 50px 0; } 
}

/* --------------------------------------------------------------------------
   5. CARDS GLASSMORPHISM (Spaziali)
   -------------------------------------------------------------------------- */
.card {
  background: linear-gradient(180deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0.01) 100%);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-float);
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
  transition: transform 0.6s var(--ease-spring), box-shadow 0.6s var(--ease-spring), border-color 0.6s ease;
  position: relative; 
  z-index: 15;
  padding: 40px;
  overflow: hidden;
}

/* Riflesso di luce al top della card (Premium Feel) */
.card::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0; height: 1px;
  background: linear-gradient(90deg, transparent, var(--glass-highlight), transparent);
  opacity: 0.3;
  transition: opacity 0.6s ease;
}

/* Bagliore al passaggio del mouse */
.card::after {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  background: radial-gradient(800px circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(255,255,255,0.04), transparent 40%);
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
  z-index: 1;
}

.card:hover {
  transform: translateY(-8px) scale(1.01);
  border-color: var(--glass-border-hover);
  box-shadow: var(--shadow-float-hover);
}
.card:hover::before { opacity: 0.8; }
.card:hover::after { opacity: 1; }

.card > * {
  position: relative;
  z-index: 2; /* Tiene il contenuto sopra il bagliore */
}

@media (max-width: 768px) {
  .card { padding: 24px !important; }
}

/* --------------------------------------------------------------------------
   6. TYPOGRAPHY (Equilibrata ed Elegante)
   -------------------------------------------------------------------------- */
.kicker {
  letter-spacing: 0.3em;
  text-transform: uppercase;
  font-size: var(--text-xs);
  font-weight: 800;
  color: var(--accent2);
  margin-bottom: 20px; 
  display: inline-flex;
  align-items: center;
  gap: 12px;
}
.kicker::before {
  content: '';
  display: block;
  width: 24px;
  height: 1px;
  background: var(--accent2);
  opacity: 0.5;
}

h1 { font-size: var(--text-3xl); line-height: 1.05; margin: 0 0 24px; font-weight: 800; letter-spacing: -0.03em; }
h2 { font-size: var(--text-2xl); line-height: 1.15; margin: 0 0 20px; font-weight: 700; letter-spacing: -0.02em; }
h3 { margin: 0 0 16px; font-size: var(--text-xl); font-weight: 600; letter-spacing: -0.01em;}
p { color: var(--muted); margin: 0 0 24px; font-size: var(--text-base); line-height: 1.7; font-weight: 400; }

.text-gradient {
  background: linear-gradient(135deg, #fff 0%, rgba(255,255,255,0.6) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  color: transparent;
}

/* --------------------------------------------------------------------------
   7. FORMS E INPUTS
   -------------------------------------------------------------------------- */
.field {
  width: 100%; 
  padding: 18px 24px; 
  border-radius: var(--radius);
  border: 1px solid var(--glass-border); 
  background: rgba(0,0,0,0.4);
  color: var(--text); 
  outline: none; 
  font-size: var(--text-sm); 
  font-family: inherit;
  transition: all 0.3s var(--ease-out);
  position: relative; 
  z-index: 20;
}
.field::placeholder { color: rgba(255,255,255,0.2); }
.field:focus { 
  border-color: rgba(179, 91, 91, 0.5); 
  box-shadow: 0 0 0 4px var(--glow-accent); 
  background: rgba(0,0,0,0.6);
}

.divider { 
  height: 1px; 
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent); 
  margin: 40px 0; 
  border: none; 
}

/* --------------------------------------------------------------------------
   8. BOTTONI Premium Armonizzati
   -------------------------------------------------------------------------- */
.btn {
  display: inline-flex; 
  align-items: center; 
  justify-content: center; 
  gap: 12px;
  padding: 18px 40px; 
  border-radius: var(--radius-full); 
  border: 1px solid rgba(255,255,255,0.1); 
  background: rgba(255,255,255,0.03); 
  backdrop-filter: blur(10px);
  color: var(--text); 
  font-weight: 600; 
  font-size: var(--text-sm); 
  cursor: pointer; 
  transition: all 0.4s var(--ease-spring); 
  user-select: none; 
  position: relative; 
  z-index: 30;
  overflow: hidden;
}

/* Effetto scorrimento luce sul bottone base */
.btn::before {
  content: ''; position: absolute; top: 0; left: -100%; width: 50%; height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.08), transparent);
  transform: skewX(-20deg); transition: 0.5s;
}

.btn:hover { 
  transform: translateY(-4px); 
  background: rgba(255,255,255,0.08); 
  border-color: rgba(255,255,255,0.25); 
  box-shadow: 0 15px 35px rgba(0,0,0,0.3); 
}
.btn:hover::before { left: 150%; }
.btn:active { transform: translateY(0) scale(0.97); }

.btn.primary { 
  background: var(--text); 
  color: var(--bg); 
  border-color: transparent; 
  box-shadow: 0 10px 30px rgba(255,255,255,0.1);
}
.btn.primary:hover { 
  background: #ffffff; 
  box-shadow: 0 20px 40px rgba(255, 255, 255, 0.2), 0 0 20px rgba(255,255,255,0.1); 
  transform: translateY(-4px); 
}
/* Luce sul bottone primario (nera per contrasto) */
.btn.primary::before { background: linear-gradient(90deg, transparent, rgba(0,0,0,0.08), transparent); }

@media (max-width: 768px) {
  .btn { width: 100%; padding: 16px 24px; font-size: 0.95rem; }
}

/* --------------------------------------------------------------------------
   9. SCROLL REVEAL ANIMATIONS (SOLO DESKTOP)
   -------------------------------------------------------------------------- */
.reveal {
  opacity: 0;
  transform: translateY(40px) scale(0.98);
  transition: opacity 1.2s var(--ease-out), transform 1.2s var(--ease-out);
  will-change: opacity, transform;
}
.reveal.in-view { 
  opacity: 1; 
  transform: translateY(0) scale(1); 
}

/* Staggering Delays per apparizione a cascata */
.reveal.delay-1 { transition-delay: 0.1s; }
.reveal.delay-2 { transition-delay: 0.2s; }
.reveal.delay-3 { transition-delay: 0.3s; }
.reveal.delay-4 { transition-delay: 0.4s; }


/* --------------------------------------------------------------------------
   10. FIX PERFORMANCE ESTREME SU MOBILE E LUMINOSITÀ
   -------------------------------------------------------------------------- */
@media (max-width: 768px) {
  /* Spegniamo tutte le animazioni complesse allo scroll */
  .reveal { opacity: 1 !important; transform: none !important; transition: none !important; will-change: auto !important; }
  
  /* KILLER #1: Via gli sfondi giganti e i bagliori che seguono il tocco */
  .bg-watermark, .mouse-glow { display: none !important; }
  
  .section { background: transparent !important; border: none !important; margin-top: 0 !important; padding: 60px 0 !important; }
  
  /* KILLER #2: Via i gradienti radiali giganti dal body */
  body {
    background-color: #0A0A0A !important; 
    background-image: none !important; /* Schermo pulito, zero repaints */
  }

  /* KILLER #3: Addio Vetro, Benvenuto Solido Premium */
  .card {
    backdrop-filter: none !important; 
    -webkit-backdrop-filter: none !important;
    
    /* Colore scuro SOLIDO. È l'unica via per Android. */
    background: #141414 !important; 
    
    border: 1px solid rgba(255,255,255,0.06) !important;
    box-shadow: none !important; /* Via le ombre pesanti */
    
    /* Disattiviamo i trucchi hardware che facevano impazzire la RAM */
    transform: none !important; 
    backface-visibility: visible !important;
    perspective: none !important;
  }

  /* Form e bottoni solidi, niente trasparenze matematiche */
  .field {
    background: #1A1A1A !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    transform: none !important;
  }

  .btn.secondary {
    background: #1A1A1A !important; 
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    border-color: rgba(255,255,255,0.1) !important;
    box-shadow: none !important;
    transform: none !important;
  }
}

/* --------------------------------------------------------------------------
   11. UTILITY CLASSES (Per allineamenti millimetrici)
   -------------------------------------------------------------------------- */
.text-center { text-align: center; }
.flex-center { display: flex; align-items: center; justify-content: center; }
.flex-col { display: flex; flex-direction: column; }
.w-full { width: 100%; }
.mt-0 { margin-top: 0; }
.mb-0 { margin-bottom: 0; }


/* --------------------------------------------------------------------------
   12. COMPONENTI UI CONDIVISI (Toggle Abbonamenti & Badge)
   -------------------------------------------------------------------------- */

.billing-toggle-wrapper {
  display: flex; /* Usa flex standard per occupare bene lo spazio */
  flex-direction: row;
  flex-wrap: nowrap !important; 
  align-items: center;
  background: rgba(0,0,0,0.4); 
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 99px; 
  padding: 6px; 
  gap: 4px;
  width: 100%; /* IMPORTANTE: Non esce mai dal suo contenitore */
  overflow: hidden; /* Taglia via qualsiasi cosa provi a sbordare */
}

.billing-btn {
  background: transparent; 
  border: none; 
  color: var(--muted); 
  font-size: 0.85rem; /* Leggermente ridotto per far entrare tutto con eleganza */
  font-weight: 600; 
  padding: 10px 8px; /* Padding orizzontale ridotto, prima era 16px */
  border-radius: 99px; 
  cursor: pointer;
  transition: all 0.3s ease; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
  gap: 4px; /* Spazio tra testo e badge ridotto */
  white-space: nowrap !important; 
  flex: 1; /* IMPORTANTE: Si dividono lo spazio in 4 parti matematicamente uguali */
  min-width: 0; /* Permette al bottone di non forzare i bordi */
}

.billing-btn.active { 
  background: rgba(255,255,255,0.1); 
  color: #fff; 
  box-shadow: 0 4px 12px rgba(0,0,0,0.2); 
}
.billing-btn:hover:not(.active) { color: #fff; }

.badge { 
  font-size: 0.65rem; 
  text-transform: uppercase; 
  letter-spacing: 0.05em; 
  padding: 3px 6px; 
  border-radius: 6px; 
  background: rgba(255,255,255,0.1); 
  color: #fff; 
  white-space: nowrap !important; 
}
.badge.premium { 
  background: linear-gradient(135deg, var(--accent), var(--accent2)); 
  color: var(--bg); 
  font-weight: 700; 
}

@media (max-width: 768px) {
  .billing-toggle-wrapper { 
    border-radius: 16px; 
  }
  .billing-btn { 
    padding: 8px 4px; 
    font-size: 0.75rem; 
  } 
  .badge { display: none; }
}